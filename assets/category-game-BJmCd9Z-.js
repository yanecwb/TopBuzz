import"./common-B9fqaSMr.js";document.addEventListener("DOMContentLoaded",function(){const d=new URLSearchParams(window.location.search),c=d.get("id"),m=d.get("name");c&&m?(document.title=`${m} Games - DarkGrid Games`,function(d,c){const m=document.getElementById("categoryGameGrid"),l=document.getElementById("noGamesMessage"),i=document.getElementById("moreGamesBtn");if(m.innerHTML='<div class="loading">Loading games...</div>',l.style.display="none",i.style.display="none","-1"===d){const t=JSON.parse(localStorage.getItem("RECENT_GAME"))||[];return void(t.length>0?(e=t,a()):s('No recent games <a href="/" style="color: var(--primary-color);">Play Now</a>'))}fetch(`https://rss.gamemonetize.com/rssfeed.php?format=json&category=${d}&type=mobile&popularity=bestgames&company=All&amount=50`).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(d=>{d&&d.length>0?(e=d,t=0,o=d.length>n,a(),o&&(i.style.display="block")):s(`No games found for ${c}`)}).catch(e=>{s("Failed to load games. Please try again later.")})}(c,m)):s("No category specified")});let e=[],t=0,n=16,o=!0;function a(){const a=document.getElementById("categoryGameGrid"),d=document.getElementById("noGamesMessage"),s=document.getElementById("moreGamesBtn");d&&(d.style.display="none");const c=(t+1)*n,m=e.slice(0,c),l=document.createDocumentFragment();m.forEach(e=>{const t=document.createElement("div");t.className="card",t.addEventListener("click",function(){try{window.__GG__?.click2Detail?.(e)}catch(t){}});const n=document.createElement("div");n.className="card-media",n.dataset.bg=e.thumb||"";const o=document.createElement("div");o.className="media-overlay";const a=document.createElement("div");a.className="media-title small",a.textContent=e.title||"",o.appendChild(a),n.appendChild(o),t.appendChild(n),l.appendChild(t)}),a.innerHTML="",a.appendChild(l),window.__GG__?.setupLazyLoading?.(),c>=e.length?(o=!1,s.style.display="none"):(o=!0,s.style.display="block")}function d(){if(!o)return;const e=document.getElementById("moreGamesBtn");e.textContent="Loading...",e.disabled=!0,setTimeout(()=>{t++,a(),e.textContent="More Games",e.disabled=!1},500)}function s(e){const t=document.getElementById("categoryGameGrid"),n=document.getElementById("noGamesMessage"),o=document.getElementById("moreGamesBtn");t.innerHTML="",o.style.display="none",n.innerHTML=e,n.style.display="block"}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("moreGamesBtn");e&&e.addEventListener("click",d)});
